<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Aerlo Exec Voice Interview</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body style="font-family:system-ui;max-width:900px;margin:40px auto;padding:0 16px;">

  <h1>Aerlo Exec â€“ Voice Interview</h1>
  <p>Click start to begin the voice interview.</p>

  <button id="start" style="font-size:18px;padding:12px 18px;">
    Start Voice Interview
  </button>

  <div id="status" style="margin-top:20px;font-weight:600;"></div>

  <script>
const questions = [
  "What should I call you?",
  "What industry do you work in?",
  "What is your experience level with AI: casual, business, or advanced?",
  "What is your role at your company?",
  "Do you have direct reports? If yes, how many?",
  "What is your business domain?"
];

let index = 0;
let answers = [];

const status = document.getElementById("status");
const output = document.getElementById("output");

const SpeechRecognition =
  window.SpeechRecognition || window.webkitSpeechRecognition;

if (!SpeechRecognition) {
  status.textContent = "Speech recognition not supported. Use Chrome desktop.";
}

function speak(text) {
  return new Promise(resolve => {
    const u = new SpeechSynthesisUtterance(text);
    u.onend = resolve;
    speechSynthesis.speak(u);
  });
}

function listen() {
  return new Promise(resolve => {
    const rec = new SpeechRecognition();
    rec.lang = "en-US";
    rec.onresult = e => resolve(e.results[0][0].transcript);
    rec.onerror = () => resolve("");
    rec.start();
  });
}

async function startInterview() {
  status.textContent = "Interview started. Allow microphone.";
  for (; index < questions.length; index++) {
    await speak(questions[index]);
    status.textContent = questions[index];
    const answer = await listen();
    answers.push(answer);
  }
  buildPrompt();
}

function buildPrompt() {
  let text = "YOUR SYSTEM PROMPT\n\n";
  questions.forEach((q, i) => {
    text += q + "\n" + answers[i] + "\n\n";
  });
  output.value = text;
  speak("Your system prompt is ready.");
}

document.getElementById("start").onclick = startInterview;
</script>


</body>
</html>

